# Engrowth公式サイト リファクタリングタスクチェックリスト

## Phase 1: 基盤整備（優先度：高）

### 1.1 共通コンポーネントの統一

#### FullBleed1440コンポーネントの共通化
- [x] **新しいファイル作成**
  - [x] `src/components/layout/FullBleed1440.tsx`を作成
  - [x] TypeScript型定義を追加
  - [x] プロップス（children）の型定義
  - [x] デフォルトエクスポート設定

- [x] **重複コードの削除**
  - [x] `src/app/page.tsx`からFullBleed1440関数を削除
  - [x] `src/app/courses/page.tsx`からFullBleed1440関数を削除
  - [x] `src/app/courses/study/page.tsx`からFullBleed1440関数を削除
  - [x] `src/app/courses/business/page.tsx`からFullBleed1440関数を削除
  - [x] `src/app/supporters/page.tsx`からFullBleed1440関数を削除
  - [x] `src/components/sections/PricingSection.tsx`からFullBleed1440関数を削除

- [x] **インポートの統一**
  - [x] 各ファイルで`import FullBleed1440 from '@/components/layout/FullBleed1440'`を追加
  - [x] 既存のFullBleed1440関数定義を削除
  - [x] 使用箇所の動作確認

#### レイアウトコンポーネントの統一
- [x] **PageTemplateコンポーネントの作成**
  - [x] `src/components/layout/PageTemplate.tsx`を作成
  - [x] メタデータ管理機能を追加
  - [x] Hero + Section + Containerの組み合わせを統一
  - [x] レスポンシブ対応の実装

- [ ] **既存ページの統一**
  - [ ] トップページ（`src/app/page.tsx`）でPageLayoutを使用
  - [ ] コースページ（`src/app/courses/page.tsx`）でPageLayoutを使用
  - [ ] 学生コースページ（`src/app/courses/study/page.tsx`）でPageLayoutを使用
  - [ ] ビジネスコースページ（`src/app/courses/business/page.tsx`）でPageLayoutを使用
  - [ ] 支援者ページ（`src/app/supporters/page.tsx`）でPageLayoutを使用

### 1.2 デザインシステムの統一

#### カラーパレットの統一
- [x] **CSS変数の整理**
  - [x] `src/app/globals.css`でカラー変数を整理
  - [x] ブランドカラー（#d30306）の統一
  - [x] セカンダリカラーの統一
  - [x] ステートカラーの統一

- [x] **Tailwind設定の更新**
  - [x] `tailwind.config.js`でカラーパレットを更新
  - [x] カスタムカラーの追加
  - [x] ダークモード対応の準備

- [x] **既存コードの修正**
  - [x] ハードコードされたカラー（#db3633等）を統一
  - [x] インラインスタイルの削除
  - [x] CSS変数の活用

#### タイポグラフィの統一
- [ ] **フォントサイズの階層化**
  - [ ] `src/app/globals.css`でフォントサイズを定義
  - [ ] レスポンシブフォントサイズの実装
  - [ ] 行間・文字間隔の統一

- [ ] **Typographyコンポーネントの改善**
  - [ ] バリエーションの整理（heading-lg, heading-md, body-lg等）
  - [ ] レスポンシブ対応の強化
  - [ ] アクセシビリティの向上

#### スペーシングシステムの統一
- [ ] **8pxベースのスペーシングシステム**
  - [ ] `src/app/globals.css`でスペーシング変数を定義
  - [ ] コンポーネント間のマージン・パディング統一
  - [ ] レスポンシブスペーシングの実装

- [ ] **既存コードの修正**
  - [ ] 不統一なマージン・パディングを修正
  - [ ] スペーシング変数の活用
  - [ ] レスポンシブ対応の統一

## Phase 2: コンポーネント最適化（優先度：高）

### 2.1 UIコンポーネントの改善

#### Buttonコンポーネントの拡張
- [x] **バリエーションの統一**
  - [x] `src/components/ui/Button.tsx`を更新
  - [x] primary, secondary, outline, ghostバリエーションを追加
  - [x] サイズ（sm, md, lg, xl）の統一
  - [x] ローディング状態の対応

- [x] **アクセシビリティの向上**
  - [x] ARIA属性の追加
  - [x] キーボードナビゲーションの改善
  - [x] フォーカス表示の改善

- [x] **既存コードの修正**
  - [x] 全ページでButtonコンポーネントの使用を統一
  - [x] インラインスタイルの削除
  - [x] プロップスの統一

#### Cardコンポーネントの統一
- [x] **ベースCardコンポーネントの作成**
  - [x] `src/components/ui/Card.tsx`を更新
  - [x] 基本スタイルの統一
  - [x] ホバーエフェクトの統一
  - [x] シャドウの統一

- [x] **バリエーションの統一**
  - [x] PricingCardの統一
  - [x] FeatureCardの統一
  - [x] CourseCardの統一
  - [x] 共通プロップスの定義

- [x] **既存コードの修正**
  - [x] 全ページでCardコンポーネントの使用を統一
  - [x] 重複するCardスタイルの削除
  - [x] プロップスの統一

#### Typographyコンポーネントの改善
- [x] **バリエーションの整理**
  - [x] `src/components/ui/Typography.tsx`を更新
  - [x] 不要なバリエーションの削除
  - [x] 新しいバリエーションの追加
  - [x] プロップスの型定義

- [x] **レスポンシブ対応の強化**
  - [x] モバイル・タブレット・デスクトップ対応
  - [x] フォントサイズの自動調整
  - [x] 行間の自動調整

- [x] **アクセシビリティの向上**
  - [x] セマンティックHTMLの活用
  - [x] スクリーンリーダー対応
  - [x] カラーコントラストの改善

### 2.2 レイアウトコンポーネントの最適化

#### Sectionコンポーネントの改善
- [x] **背景色の統一**
  - [x] `src/components/layout/Section.tsx`を更新
  - [x] 背景色のバリエーションを統一
  - [x] カラー変数の活用

- [x] **パディングの統一**
  - [x] パディングのバリエーションを統一
  - [x] レスポンシブ対応の強化
  - [x] スペーシング変数の活用

- [x] **既存コードの修正**
  - [x] 全ページでSectionコンポーネントの使用を統一
  - [x] 不統一なパディングを修正
  - [x] プロップスの統一

#### Containerコンポーネントの改善
- [x] **最大幅の統一**
  - [x] `src/components/layout/Container.tsx`を更新
  - [x] 最大幅のバリエーションを統一
  - [x] レスポンシブ対応の強化

- [x] **パディングの統一**
  - [x] パディングのバリエーションを統一
  - [x] スペーシング変数の活用

- [x] **既存コードの修正**
  - [x] 全ページでContainerコンポーネントの使用を統一
  - [x] 不統一なパディングを修正
  - [x] プロップスの統一

#### Gridシステムの統一
- [x] **カスタムGridコンポーネントの作成**
  - [x] `src/components/layout/Grid.tsx`を作成
  - [x] レスポンシブグリッドの統一
  - [x] ギャップの統一

- [x] **既存コードの修正**
  - [x] 全ページでGridコンポーネントの使用を統一
  - [x] 不統一なグリッドレイアウトを修正
  - [x] プロップスの統一

## Phase 3: ページ構造の最適化（優先度：中）

### 3.1 ページテンプレートの統一

#### ページレイアウトの統一
- [ ] **PageTemplateコンポーネントの作成**
  - [ ] `src/components/layout/PageTemplate.tsx`を作成
  - [ ] メタデータ管理機能を追加
  - [ ] SEO最適化の統一
  - [ ] 構造化データの追加

- [ ] **既存ページの統一**
  - [ ] トップページでPageTemplateを使用
  - [ ] コースページでPageTemplateを使用
  - [ ] 学生コースページでPageTemplateを使用
  - [ ] ビジネスコースページでPageTemplateを使用
  - [ ] 支援者ページでPageTemplateを使用

#### ヒーローセクションの統一
- [ ] **HeroSectionコンポーネントの統一**
  - [ ] `src/components/sections/Hero.tsx`を更新
  - [ ] 画像最適化の統一
  - [ ] レスポンシブ対応の統一
  - [ ] アクセシビリティの向上

- [ ] **既存コードの修正**
  - [ ] 全ページでHeroSectionコンポーネントの使用を統一
  - [ ] 不統一なヒーローセクションを修正
  - [ ] プロップスの統一

#### セクション構造の統一
- [ ] **セクション間のスペーシング統一**
  - [ ] 全ページでセクション間のスペーシングを統一
  - [ ] スペーシング変数の活用

- [ ] **セクションタイトルの統一**
  - [ ] セクションタイトルのスタイルを統一
  - [ ] アクセシビリティの向上

- [ ] **セクション背景の統一**
  - [ ] セクション背景のバリエーションを統一
  - [ ] カラー変数の活用

### 3.2 データ管理の改善

#### 定数の統一
- [x] **カラーパレットの定数化**
  - [x] `src/constants/colors.ts`を作成
  - [x] カラーパレットの定数を定義
  - [x] 型定義の追加

- [x] **スペーシングの定数化**
  - [x] `src/constants/spacing.ts`を作成
  - [x] スペーシングの定数を定義
  - [x] 型定義の追加

- [x] **ブレークポイントの定数化**
  - [x] `src/constants/breakpoints.ts`を作成
  - [x] ブレークポイントの定数を定義
  - [x] 型定義の追加

#### 型定義の改善
- [x] **共通の型定義ファイルの作成**
  - [x] `src/types/common.ts`を作成
  - [x] 共通の型定義を追加
  - [x] インターフェースの統一

- [x] **プロップスの型安全性の向上**
  - [x] 全コンポーネントでプロップスの型定義を追加
  - [x] 型安全性の向上

- [x] **インターフェースの統一**
  - [x] 共通のインターフェースを定義
  - [x] 型の再利用性の向上

## Phase 4: パフォーマンス最適化（優先度：中）

### 4.1 画像最適化

#### 画像コンポーネントの統一
- [x] **OptimizedImageコンポーネントの作成**
  - [x] `src/components/ui/OptimizedImage.tsx`を作成
  - [x] 遅延読み込みの統一
  - [x] 画像サイズの最適化
  - [x] WebP対応の統一

- [ ] **既存コードの修正**
  - [ ] 全ページでOptimizedImageコンポーネントの使用を統一
  - [ ] 既存のImageコンポーネントを置き換え
  - [ ] プロップスの統一

#### 画像管理の改善
- [x] **画像パスの統一**
  - [x] 画像パスの定数化
  - [x] パス管理の統一

- [ ] **画像フォーマットの最適化**
  - [ ] WebP対応の実装
  - [ ] 画像圧縮の最適化

- [ ] **画像サイズの最適化**
  - [ ] レスポンシブ画像の実装
  - [ ] 画像サイズの自動調整

### 4.2 バンドル最適化

#### コード分割の改善
- [ ] **動的インポートの活用**
  - [ ] 重いコンポーネントの遅延読み込み
  - [ ] ルートベースのコード分割

- [ ] **コンポーネントの遅延読み込み**
  - [ ] 使用頻度の低いコンポーネントの遅延読み込み
  - [ ] パフォーマンスの向上

- [ ] **不要な依存関係の削除**
  - [ ] 未使用の依存関係の特定
  - [ ] 依存関係の最適化

#### Tree Shakingの最適化
- [ ] **未使用コードの削除**
  - [ ] 未使用の関数・変数の削除
  - [ ] デッドコードの削除

- [ ] **インポートの最適化**
  - [ ] 必要な部分のみのインポート
  - [ ] インポートの最適化

- [ ] **バンドルサイズの監視**
  - [ ] バンドルサイズの監視ツールの導入
  - [ ] サイズ増加の監視

## Phase 5: アクセシビリティ・SEO最適化（優先度：低）

### 5.1 アクセシビリティの向上

#### ARIA属性の統一
- [x] **セマンティックHTMLの活用**
  - [x] 適切なHTMLタグの使用
  - [x] セマンティックな構造の実装

- [x] **キーボードナビゲーションの改善**
  - [x] タブナビゲーションの実装
  - [x] フォーカス管理の改善

- [x] **スクリーンリーダー対応の向上**
  - [x] ARIA属性の追加
  - [x] スクリーンリーダー対応の改善

#### カラーコントラストの改善
- [ ] **WCAG準拠の確認**
  - [ ] カラーコントラスト比の確認
  - [ ] WCAG準拠の実装

- [ ] **フォーカス表示の改善**
  - [ ] フォーカス表示の統一
  - [ ] アクセシビリティの向上

### 5.2 SEO最適化

#### メタデータの統一
- [x] **タイトル・ディスクリプションの統一**
  - [x] 全ページでメタデータの統一
  - [x] SEO最適化の実装

- [x] **Open Graph対応の統一**
  - [x] 全ページでOpen Graphの統一
  - [x] ソーシャルメディア対応の改善

- [x] **構造化データの追加**
  - [x] JSON-LDの実装
  - [x] 検索エンジン最適化の改善

## 実装チェックリスト

### 事前準備
- [ ] **開発環境の確認**
  - [ ] Node.jsバージョンの確認
  - [ ] 依存関係の更新
  - [ ] 開発ツールの確認

- [ ] **テスト環境の準備**
  - [ ] テスト用ブランチの作成
  - [ ] テストデータの準備
  - [ ] テストツールの準備

### 実装中
- [ ] **段階的な実装**
  - [ ] Phase 1から順次実装
  - [ ] 各Phase完了後のテスト
  - [ ] 問題発生時のロールバック

- [ ] **品質管理**
  - [ ] コードレビューの実施
  - [ ] テストの実行
  - [ ] パフォーマンステストの実施

### 実装後
- [ ] **最終確認**
  - [ ] 全機能の動作確認
  - [ ] パフォーマンステストの実施
  - [ ] アクセシビリティテストの実施

- [ ] **ドキュメント更新**
  - [ ] READMEの更新
  - [ ] 開発ガイドの更新
  - [ ] コンポーネントドキュメントの更新

## 成功指標

### 技術指標
- [ ] **コードの重複率**: 現在30% → 目標5%以下
- [ ] **バンドルサイズ**: 現在の80%以下
- [ ] **レンダリング時間**: 現在の70%以下

### 品質指標
- [ ] **TypeScriptエラー**: 0件
- [ ] **ESLintエラー**: 0件
- [ ] **アクセシビリティスコア**: 90点以上

### 開発効率指標
- [ ] **新機能開発時間**: 現在の60%以下
- [ ] **バグ修正時間**: 現在の50%以下
- [ ] **コードレビュー時間**: 現在の70%以下

## 注意事項

### 実装時の注意点
- [ ] **既存機能の破壊を避ける**
  - [ ] 段階的な実装
  - [ ] 十分なテスト
  - [ ] ロールバック計画の準備

- [ ] **パフォーマンスの監視**
  - [ ] 実装前後のパフォーマンス比較
  - [ ] メトリクスの監視
  - [ ] 問題発生時の対応

### リスク管理
- [ ] **技術的リスク**
  - [ ] 既存機能の破壊
  - [ ] デザインの一貫性の崩れ
  - [ ] パフォーマンスの劣化

- [ ] **対策**
  - [ ] 段階的な実装
  - [ ] 十分なテスト
  - [ ] ロールバック計画の準備
